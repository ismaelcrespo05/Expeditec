{% extends 'Admin/admin_base.html' %}

{% block contenido %}
<div class="space-y-8">
    <!-- SecciÃ³n 1: Registro Manual -->
    <div class="space-y-4">
        <div class="flex items-center justify-between">
            <div>
                <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Editar datos de usuario: {{aspirante.nombres}} {{aspirante.primer_apellido}} {{aspirante.segundo_apellido}}</h1>
                <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">
                    Complete el formulario para actualizar al usuario.
                </p>
            </div>
            <div class="hidden sm:flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-days-icon lucide-calendar-days"><path d="M8 2v4"/><path d="M16 2v4"/><rect width="18" height="18" x="3" y="4" rx="2"/><path d="M3 10h18"/><path d="M8 14h.01"/><path d="M12 14h.01"/><path d="M16 14h.01"/><path d="M8 18h.01"/><path d="M12 18h.01"/><path d="M16 18h.01"/></svg> 
                <span id="current-date"></span>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700">
            <form class="space-y-6" action="{% url 'editar_aspirante' aspirante.id %}" method="POST">
                {% csrf_token %}
                <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
                    <!-- Columna 1 -->
                    <div>
                        <label for="tipo" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Tipo de usuario</label>
                        <select required id="tipo" name="tipo" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                            <option value="">Seleccione...</option>
                            {% for choice in TIPO_CHOICES %}
                            <option value="{{choice}}" {% if aspirante.tipo == choice %}selected{% endif %}>{{choice}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div>
                        <label for="nombres" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Nombres</label>
                        <input required type="text" id="nombres" name="nombres" value="{{aspirante.nombres}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <div>
                        <label for="primer_apellido" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Primer Apellido</label>
                        <input required type="text" id="primer_apellido" name="primer_apellido" value="{{aspirante.primer_apellido}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <div>
                        <label for="segundo_apellido" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Segundo Apellido</label>
                        <input type="text" id="segundo_apellido" value="{{aspirante.segundo_apellido}}" name="segundo_apellido" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <div>
                        <label for="sexo" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Sexo</label>
                        <select required id="sexo" name="sexo" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                            <option value="">Seleccione...</option>
                            {% for choice in SEXO_CHOICES %}
                            <option value="{{choice}}" {% if aspirante.sexo == choice %}selected{% endif %}>{{choice}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div>
                        <label for="ci" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">CI</label>
                        <input required type="text" id="ci" name="ci" value="{{aspirante.ci}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <div>
                        <label for="lugar_nacimiento" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Lugar de Nacimiento</label>
                        <input required type="text" id="lugar_nacimiento" name="lugar_nacimiento" value="{{aspirante.lugar_nacimiento}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <!-- Columna 2 -->
                    <div>
                        <label for="color_piel" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Color de Piel</label>
                        <select required id="color_piel" name="color_piel" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                            <option value="">Seleccione...</option>
                            {% for choice in COLOR_PIEL_CHOICES %}
                            <option value="{{choice}}" {% if aspirante.color_piel == choice %}selected{% endif %}>{{choice}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div>
                        <label for="estado_civil" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Estado Civil</label>
                        <select required id="estado_civil" name="estado_civil" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                            <option value="">Seleccione...</option>
                            {% for choice in ESTADO_CIVIL_CHOICES %}
                            <option value="{{choice}}" {% if aspirante.estado_civil == choice %}selected{% endif %}>{{choice}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div>
                        <label for="ciudadano" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Ciudadano</label>
                        <input required type="text" id="ciudadano" name="ciudadano" value="{{aspirante.ciudadano}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <div>
                        <label for="procedencia_social" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Procedencia Social</label>
                        <select required id="procedencia_social" name="procedencia_social" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                            <option value="">Seleccione...</option>
                            {% for choice in PROCEDENCIA_SOCIAL_CHOICES %}
                            <option value="{{choice}}" {% if aspirante.procedencia_social == choice %}selected{% endif %}>{{choice}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div>
                        <label for="especialidad" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Especialidad</label>
                        <input type="text" id="especialidad" name="especialidad" value="{{aspirante.especialidad}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <!-- Columna 3 -->
                    <div>
                        <label for="centro" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Centro</label>
                        <input type="text" id="centro" name="centro" value="{{aspirante.centro}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <div>
                        <label for="cargo" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Cargo</label>
                        <input type="text" id="cargo" name="cargo" value="{{aspirante.cargo}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>
                    <div>
                        <label for="pais" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">PaÃ­s</label>
                        <input required type="text" id="pais" name="pais" value="{{aspirante.pais}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <div>
                        <label for="facultad" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Facultad</label>
                        <select id="facultad" name="facultad" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                            <option value="">Seleccione...</option>
                            {% for choice in FACULTAD_CHOICES %}
                            <option value="{{choice}}" {% if aspirante.facultad == choice %}selected{% endif %}>{{choice}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div>
                        <label for="ces" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">CES</label>
                        <input type="text" id="ces" name="ces" value="{{aspirante.ces}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <div>
                        <label for="departamento" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Departamento</label>
                        <select id="departamento" name="departamento" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                            <option value="">Seleccione...</option>
                            {% for choice in DEPARTAMENTO_CHOICES %}
                            <option value="{{choice}}" {% if aspirante.departamento == choice %}selected{% endif %}>{{choice}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div>
                        <label for="salario" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Salario</label>
                        <input required type="number" id="salario" name="salario" value="{{aspirante.salario}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>
                    <div>
                        <label for="direccion" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">DirecciÃ³n Particular</label>
                        <input required type="text" id="direccion" name="direccion" value="{{aspirante.direccion}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>
                    <!-- Campos adicionales -->
                     <div>
                        <label for="solapin" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">SolapÃ­n</label>
                        <input required type="text" id="solapin" name="solapin" value="{{aspirante.solapin}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>

                    <div>
                        <label for="categoria_docente" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">CategorÃ­a Docente/CientÃ­fica</label>
                        <select id="categoria_docente" name="categoria_docente" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                            <option value="">Seleccione...</option>
                            {% for choice in CATEGORIA_DOCENTE_CHOICES %}
                            <option value="{{choice}}" {% if aspirante.categoria_docente == choice %}selected{% endif %}>{{choice}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div>
                        <label for="fecha_otorgamiento_categoria" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Fecha de Otorgamiento (CategorÃ­a)</label>
                        <input type="date" id="fecha_otorgamiento_categoria" name="fecha_otorgamiento_categoria" value="{{aspirante.fecha_otorgamiento_categoria|date:'Y-m-d'}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    <div>
                        <label for="telefono" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">TelÃ©fono</label>
                        <input type="tel" id="telefono" name="telefono" value="{{aspirante.telefono}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>

                    <div>
                        <label for="grado_cientifico" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Grado CientÃ­fico</label>
                        <select id="grado_cientifico" name="grado_cientifico" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                            <option value="">Seleccione...</option>
                            {% for choice in GRADO_CIENTIFICO_CHOICES %}
                            <option value="{{choice}}" {% if aspirante.grado_cientifico == choice %}selected{% endif %}>{{choice}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div>
                        <label for="fecha_otorgamiento_grado" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Fecha de Otorgamiento (Grado)</label>
                        <input type="date" id="fecha_otorgamiento_grado" name="fecha_otorgamiento_grado" value="{{aspirante.fecha_otorgamiento_grado|date:'Y-m-d'}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>
                    
                    
                    <div>
                        <label for="username" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Nombre de usuario</label>
                        <input required type="text" id="username" name="username" value="{{aspirante.userid.username}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>

                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Correo electrÃ³nico</label>
                        <input required type="email" id="email" name="email" value="{{aspirante.userid.email}}" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white">
                    </div>                    
                </div>
    
                <div class="flex justify-end space-x-3 pt-4">
                    <button type="submit" class="px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        Actualizar
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}